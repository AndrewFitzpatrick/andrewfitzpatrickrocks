{"ast":null,"code":"var _jsxFileName = \"/Users/Fitz/Sites/rocks/andrewfitzpatrickrocks/src/components/Page.js\";\nimport React, { Component } from 'react';\n\nfunction sleep(ms) {\n  // just a sleep util\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nclass Page extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shouldRenderChildren: true,\n      isSliding: false\n    }; // this.props = isSliding;\n    // let isSliding;\n  }\n\n  componentDidMount() {\n    this.props.eventer.register(() => this.move());\n    console.log(this.state.isSliding); // console.log(isSliding);\n  }\n\n  componentWillUnmount() {\n    this.props.eventer.unregister(() => this.move()); // this.setState({isSliding: false});\n    // const isSliding === false;\n    // console.log(isSliding);\n  }\n\n  isVisible() {\n    if (this.props.left < 0) {\n      return false;\n    }\n\n    if (this.props.left >= window.innerWidth) {\n      return false;\n    }\n\n    return true;\n  }\n\n  move() {\n    if (this.props.left !== this.props.from) {\n      this.setState({\n        shouldRenderChildren: true,\n        isSliding: true\n      });\n    }\n\n    this.reRender();\n  }\n\n  async reRender() {\n    await sleep(1000);\n    this.setState({\n      shouldRenderChildren: this.isVisible(),\n      isSliding: false\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100vw',\n        height: '100%',\n        position: 'fixed',\n        overflowY: this.state.isSliding ? 'none' : 'scroll',\n        top: 0,\n        left: 0,\n        transform: 'translateX(' + this.props.left + 'px)',\n        animationTimingFunction: 'ease-in',\n        zIndex: -20,\n        transition: 'transform .8s ease-in-out'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, \" \", this.state.shouldRenderChildren && this.props.children);\n  }\n\n}\n\nexport default Page;","map":{"version":3,"sources":["/Users/Fitz/Sites/rocks/andrewfitzpatrickrocks/src/components/Page.js"],"names":["React","Component","sleep","ms","Promise","resolve","setTimeout","Page","constructor","props","state","shouldRenderChildren","isSliding","componentDidMount","eventer","register","move","console","log","componentWillUnmount","unregister","isVisible","left","window","innerWidth","from","setState","reRender","render","width","height","position","overflowY","top","transform","animationTimingFunction","zIndex","transition","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAGA,SAASC,KAAT,CAAeC,EAAf,EAAmB;AAAE;AACjB,SAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AACH;;AAED,MAAMI,IAAN,SAAmBN,SAAnB,CAA6B;AAEzBO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,oBAAoB,EAAE,IAAvB;AAA6BC,MAAAA,SAAS,EAAE;AAAxC,KAAb,CAFe,CAGf;AACA;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKJ,KAAL,CAAWK,OAAX,CAAmBC,QAAnB,CAA4B,MAAM,KAAKC,IAAL,EAAlC;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAL,CAAWE,SAAvB,EAFgB,CAGhB;AACH;;AAEDO,EAAAA,oBAAoB,GAAG;AACnB,SAAKV,KAAL,CAAWK,OAAX,CAAmBM,UAAnB,CAA8B,MAAM,KAAKJ,IAAL,EAApC,EADmB,CAEnB;AACA;AACA;AACH;;AAEDK,EAAAA,SAAS,GAAG;AACR,QAAI,KAAKZ,KAAL,CAAWa,IAAX,GAAkB,CAAtB,EAAyB;AACrB,aAAO,KAAP;AACH;;AACD,QAAI,KAAKb,KAAL,CAAWa,IAAX,IAAmBC,MAAM,CAACC,UAA9B,EAA0C;AACtC,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH;;AAEDR,EAAAA,IAAI,GAAG;AACH,QAAI,KAAKP,KAAL,CAAWa,IAAX,KAAoB,KAAKb,KAAL,CAAWgB,IAAnC,EAAyC;AACrC,WAAKC,QAAL,CAAc;AAAEf,QAAAA,oBAAoB,EAAE,IAAxB;AAA8BC,QAAAA,SAAS,EAAE;AAAzC,OAAd;AACH;;AACD,SAAKe,QAAL;AACH;;AAED,QAAMA,QAAN,GAAiB;AACb,UAAMzB,KAAK,CAAC,IAAD,CAAX;AACA,SAAKwB,QAAL,CAAc;AAACf,MAAAA,oBAAoB,EAAE,KAAKU,SAAL,EAAvB;AAAyCT,MAAAA,SAAS,EAAE;AAApD,KAAd;AACH;;AAEDgB,EAAAA,MAAM,GAAG;AACL,wBACI;AACC,MAAA,KAAK,EAAE;AACJC,QAAAA,KAAK,EAAE,OADH;AAEJC,QAAAA,MAAM,EAAE,MAFJ;AAGJC,QAAAA,QAAQ,EAAE,OAHN;AAIJC,QAAAA,SAAS,EAAE,KAAKtB,KAAL,CAAWE,SAAX,GAAuB,MAAvB,GAAgC,QAJvC;AAKJqB,QAAAA,GAAG,EAAE,CALD;AAMJX,QAAAA,IAAI,EAAE,CANF;AAOJY,QAAAA,SAAS,EAAE,gBAAe,KAAKzB,KAAL,CAAWa,IAA1B,GAAiC,KAPxC;AAQJa,QAAAA,uBAAuB,EAAE,SARrB;AASJC,QAAAA,MAAM,EAAE,CAAC,EATL;AAUJC,QAAAA,UAAU,EAAE;AAVR,OADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAYK,KAAK3B,KAAL,CAAWC,oBAAX,IACG,KAAKF,KAAL,CAAW6B,QAbnB,CADJ;AAmBH;;AAhEwB;;AAoE7B,eAAe/B,IAAf","sourcesContent":["import React, { Component } from 'react';\n\n\nfunction sleep(ms) { // just a sleep util\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nclass Page extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {shouldRenderChildren: true, isSliding: false};\n        // this.props = isSliding;\n        // let isSliding;\n    }\n\n    componentDidMount() {\n        this.props.eventer.register(() => this.move());\n        console.log(this.state.isSliding)\n        // console.log(isSliding);\n    }\n\n    componentWillUnmount() {\n        this.props.eventer.unregister(() => this.move());\n        // this.setState({isSliding: false});\n        // const isSliding === false;\n        // console.log(isSliding);\n    }\n\n    isVisible() {\n        if (this.props.left < 0) {\n            return false;\n        }\n        if (this.props.left >= window.innerWidth) {\n            return false;\n        }\n        return true;\n    }\n\n    move() {\n        if (this.props.left !== this.props.from) {\n            this.setState({ shouldRenderChildren: true, isSliding: true });\n        }\n        this.reRender();\n    }\n\n    async reRender() {\n        await sleep(1000);\n        this.setState({shouldRenderChildren: this.isVisible(), isSliding: false});\n    }\n\n    render() {\n        return (\n            <div\n             style={{\n                width: '100vw',\n                height: '100%',\n                position: 'fixed',\n                overflowY: this.state.isSliding ? 'none' : 'scroll',\n                top: 0,\n                left: 0,\n                transform: 'translateX('+ this.props.left + 'px)',\n                animationTimingFunction: 'ease-in',\n                zIndex: -20,\n                transition: 'transform .8s ease-in-out'\n            }}> {this.state.shouldRenderChildren &&\n                    this.props.children\n                 }\n            </div>\n        );\n\n    }\n\n}\n\nexport default Page;"]},"metadata":{},"sourceType":"module"}