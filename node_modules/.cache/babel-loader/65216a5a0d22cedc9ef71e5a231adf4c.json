{"ast":null,"code":"var _jsxFileName = \"/Users/Fitz/Sites/rocks/andrewfitzpatrickrocks/src/components/Page.js\";\nimport React, { Component } from 'react';\n\nfunction sleep(ms) {\n  // just a sleep util\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nclass Page extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shouldRenderChildren: true\n    };\n  }\n\n  componentDidMount() {\n    this.props.eventer.register(() => this.move());\n  }\n\n  componentWillUnmount() {\n    this.props.eventer.unregister(() => this.move());\n  }\n\n  isVisible() {\n    if (this.props.left < 0) {\n      return false;\n    }\n\n    if (this.props.left >= window.innerWidth) {\n      return false;\n    }\n\n    return true;\n  }\n\n  move() {\n    if (this.props.left !== this.props.from) {\n      this.setState({\n        shouldRenderChildren: true\n      });\n    }\n\n    this.reRender();\n  }\n\n  async reRender() {\n    await sleep(1000);\n    this.setState({\n      shouldRenderChildren: this.isVisible()\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: '100vw',\n        height: '100%',\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        transform: 'translateX(' + this.props.left + 'px)',\n        animationTimingFunction: 'ease-in',\n        zIndex: -20,\n        transition: 'transform .8s ease-in-out'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, \" \", this.state.shouldRenderChildren && this.props.children);\n  }\n\n}\n\nexport default Page;","map":{"version":3,"sources":["/Users/Fitz/Sites/rocks/andrewfitzpatrickrocks/src/components/Page.js"],"names":["React","Component","sleep","ms","Promise","resolve","setTimeout","Page","constructor","props","state","shouldRenderChildren","componentDidMount","eventer","register","move","componentWillUnmount","unregister","isVisible","left","window","innerWidth","from","setState","reRender","render","width","height","position","top","transform","animationTimingFunction","zIndex","transition","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAGA,SAASC,KAAT,CAAeC,EAAf,EAAmB;AAAE;AACjB,SAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AACH;;AAED,MAAMI,IAAN,SAAmBN,SAAnB,CAA6B;AAEzBO,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAACC,MAAAA,oBAAoB,EAAE;AAAvB,KAAb;AACH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,SAAKH,KAAL,CAAWI,OAAX,CAAmBC,QAAnB,CAA4B,MAAM,KAAKC,IAAL,EAAlC;AACH;;AAEDC,EAAAA,oBAAoB,GAAG;AACnB,SAAKP,KAAL,CAAWI,OAAX,CAAmBI,UAAnB,CAA8B,MAAM,KAAKF,IAAL,EAApC;AACH;;AAEDG,EAAAA,SAAS,GAAG;AACR,QAAI,KAAKT,KAAL,CAAWU,IAAX,GAAkB,CAAtB,EAAyB;AACrB,aAAO,KAAP;AACH;;AACD,QAAI,KAAKV,KAAL,CAAWU,IAAX,IAAmBC,MAAM,CAACC,UAA9B,EAA0C;AACtC,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH;;AAEDN,EAAAA,IAAI,GAAG;AACH,QAAI,KAAKN,KAAL,CAAWU,IAAX,KAAoB,KAAKV,KAAL,CAAWa,IAAnC,EAAyC;AACrC,WAAKC,QAAL,CAAc;AAAEZ,QAAAA,oBAAoB,EAAE;AAAxB,OAAd;AACH;;AACD,SAAKa,QAAL;AACH;;AAED,QAAMA,QAAN,GAAiB;AACb,UAAMtB,KAAK,CAAC,IAAD,CAAX;AACA,SAAKqB,QAAL,CAAc;AAACZ,MAAAA,oBAAoB,EAAE,KAAKO,SAAL;AAAvB,KAAd;AACH;;AAEDO,EAAAA,MAAM,GAAG;AACL,wBACI;AACC,MAAA,KAAK,EAAE;AACJC,QAAAA,KAAK,EAAE,OADH;AAEJC,QAAAA,MAAM,EAAE,MAFJ;AAGJC,QAAAA,QAAQ,EAAE,OAHN;AAIJC,QAAAA,GAAG,EAAE,CAJD;AAKJV,QAAAA,IAAI,EAAE,CALF;AAMJW,QAAAA,SAAS,EAAE,gBAAe,KAAKrB,KAAL,CAAWU,IAA1B,GAAiC,KANxC;AAOJY,QAAAA,uBAAuB,EAAE,SAPrB;AAQJC,QAAAA,MAAM,EAAE,CAAC,EARL;AASJC,QAAAA,UAAU,EAAE;AATR,OADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAWK,KAAKvB,KAAL,CAAWC,oBAAX,IACG,KAAKF,KAAL,CAAWyB,QAZnB,CADJ;AAkBH;;AAxDwB;;AA4D7B,eAAe3B,IAAf","sourcesContent":["import React, { Component } from 'react';\n\n\nfunction sleep(ms) { // just a sleep util\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\n\nclass Page extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {shouldRenderChildren: true};\n    }\n\n    componentDidMount() {\n        this.props.eventer.register(() => this.move());\n    }\n\n    componentWillUnmount() {\n        this.props.eventer.unregister(() => this.move());\n    }\n\n    isVisible() {\n        if (this.props.left < 0) {\n            return false;\n        }\n        if (this.props.left >= window.innerWidth) {\n            return false;\n        }\n        return true;\n    }\n\n    move() {\n        if (this.props.left !== this.props.from) {\n            this.setState({ shouldRenderChildren: true });\n        }\n        this.reRender();\n    }\n\n    async reRender() {\n        await sleep(1000);\n        this.setState({shouldRenderChildren: this.isVisible()});\n    }\n\n    render() {\n        return (\n            <div\n             style={{\n                width: '100vw',\n                height: '100%',\n                position: 'fixed',\n                top: 0,\n                left: 0,\n                transform: 'translateX('+ this.props.left + 'px)',\n                animationTimingFunction: 'ease-in',\n                zIndex: -20,\n                transition: 'transform .8s ease-in-out'\n            }}> {this.state.shouldRenderChildren &&\n                    this.props.children\n                 }\n            </div>\n        );\n\n    }\n\n}\n\nexport default Page;"]},"metadata":{},"sourceType":"module"}